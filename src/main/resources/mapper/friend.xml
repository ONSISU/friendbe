<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.friendbe.friend.repository.FriendRepository">

	<select id="friendList" resultType="com.example.friendbe.friend.dto.FriendDto">
		select m.member_id, f.friend_id, (select member_info from member_tb where member_id = f.friend_id) memberInfo
		from friend_tb f join member_tb m on f.member_id = m.member_id
		where m.member_id = #{memberId};
	</select>
	<select id="friendYn">
		select count(*) from friend_tb where member_id = #{memberId} and friend_id = #{friendId};
	</select>
	<insert id="friendInsert">
		insert into friend_tb(member_id, friend_id) values (#{memberId}, #{friendId});
	</insert>

</mapper>